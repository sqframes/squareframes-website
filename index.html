<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Square Frames | Building & Construction Supplies in Fiji</title>
  <meta name="description" content="Square Frames supplies quality timber, plywood, PVC boards, tools, safety equipment, and construction materials across Fiji." />
  <meta name="robots" content="index, follow" />
  <meta name="theme-color" content="#ffffff" />

  <!-- Canonical (www) -->
  <link rel="canonical" href="https://www.sqframes.com/" />

  <!-- Open Graph -->
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="Square Frames Fiji" />
  <meta property="og:title" content="Square Frames | Construction & Building Supplies in Fiji" />
  <meta property="og:description" content="Quality products and reliable service across Fiji. Browse timber, plywood, tools, safety gear and more." />
  <meta property="og:image" content="https://www.sqframes.com/images/tab_icon.png" />
  <meta property="og:url" content="https://www.sqframes.com/" />

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />

  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="/images/tab_icon.png" type="image/png" />
  <link rel="apple-touch-icon" href="/images/tab_icon.png" />
</head>

<body>

  <!-- Header -->
  <header class="site-header">
    <div class="topbar">
      <div class="topbar-inner">
        <div class="topbar-right">
          <a href="tel:+6797855919">+679 7855919</a>
          <span class="dot">•</span>
          <a href="mailto:admin@sqframes.com">admin@sqframes.com</a>
        </div>
      </div>
    </div>

    <div class="header-inner">
      <a href="/" class="brand" aria-label="Square Frames Home">
        <img src="images/sqf_logo_transparent.png" alt="Square Frames">
      </a>

      <div class="header-controls modern-controls">
        <div class="search-wrap">
          <input type="text" id="searchInput" placeholder="Search products..." aria-label="Search">
        </div>
        <div class="select-wrap">
          <select id="categorySelect" aria-label="Filter Category">
            <option value="all">All Categories</option>
          </select>
        </div>
      </div>

      <nav class="nav-pills" aria-label="Main navigation">
        <a href="/about.html">About</a>
        <a href="/faq.html">FAQ</a>
        <a href="/contact.html#enquiry">Contact</a>
        <a class="btn-cta" href="#" onclick="openInquiryForm(); return false;">Request Quote</a>
      </nav>
    </div>
  </header>

  <main>

    <!-- Hero -->
    <section class="hero">
      <div class="hero-inner">
        <h1>• Supply of Quality Products & Reliable Service Across Fiji •</h1>
        <p>
          Browse our catalogue and request a quote for pricing and availability.
          We support trade, business and project supply nationwide.
        </p>

        <div class="badges" aria-label="Highlights">
          <span class="badge">Fast Response</span>
          <span class="badge">Trade &amp; Business Support</span>
          <span class="badge">Customer Centric</span>
          <span class="badge">Nationwide Service</span>
        </div>
      </div>
    </section>

    <!-- Category badge links (now point to static pages) -->
    <section class="section" style="max-width:1100px; margin: 0 auto 40px auto;">
      <h2>Browse Popular Categories</h2>
      <p class="small-note">Explore our catalogue categories. For pricing and availability, request a quote.</p>
      <div class="badges" style="justify-content:flex-start;">
        <a class="badge" href="/products/structural-framing-timber-rough.html">Structural Framing Timber</a>
        <a class="badge" href="/products/dressed-timber-planned.html">Dressed Timber</a>
        <a class="badge" href="/products/plywood.html">Plywood</a>
        <a class="badge" href="/products/pvc-board.html">PVC Board</a>
        <a class="badge" href="/products/safety-harness.html">Safety Harness</a>
        <a class="badge" href="/products/high-visibility-workwear.html">High Visibility Workwear</a>
        <a class="badge" href="/products/gloves-and-helmets.html">Gloves &amp; Helmets</a>
        <a class="badge" href="/products/hand-tools.html">Hand Tools</a>
        <a class="badge" href="/products/garden-tools.html">Garden Tools</a>
        <a class="badge" href="/products/power-tools.html">Power Tools</a>
        <a class="badge" href="/products/traffic-cones.html">Traffic Cones</a>
        <a class="badge" href="/products/traffic-signage.html">Traffic Signage</a>
        <a class="badge" href="/products/screws.html">Screws</a>
      </div>
    </section>

    <!-- Mosaic grid (same visual layout as before) -->
    <div id="grid" class="grid">
      <div style="grid-column: 1/-1; text-align:center; padding:80px 20px; color:#999; font-weight:600;">
        Loading products...
      </div>
    </div>

  </main>

  <!-- Inquiry Form Overlay (kept, same UX) -->
  <div id="inquiry-form-overlay" class="overlay" aria-hidden="true">
    <div class="overlay-inner">
      <div class="overlay-head">
        <strong>Request a Quote</strong>
        <button class="overlay-close" onclick="closeInquiryForm()" aria-label="Close">&times;</button>
      </div>

      <form id="inquiryForm" class="overlay-form">
        <label>
          Your Name
          <input type="text" name="name" required>
        </label>

        <label>
          Phone Number
          <input type="tel" name="phone" required>
        </label>

        <label>
          Email (optional)
          <input type="email" name="email">
        </label>

        <label>
          What do you need?
          <textarea name="message" rows="6" placeholder="Item name, quantity, size (if any), and your location in Fiji..." required></textarea>
        </label>

        <button type="submit" class="cta-btn">Email Square Frames</button>
      </form>

      <p class="small-note" style="margin-top:10px;">
        For faster service, include item name, quantities (if known), and your location in Fiji.
      </p>
    </div>
  </div>

  <footer>
    <strong>Square Frames</strong> · Servicing all of Fiji · <a href="/faq.html">FAQ</a><br>
    Phone: <a href="tel:+6797855919">+679 785 5919</a> · Email: <a href="mailto:admin@sqframes.com">admin@sqframes.com</a><br>
    &copy; 2026 Square Frames. All rights reserved.
  </footer>

  <div id="toast" role="status" aria-live="polite"></div>

  <script>
    const inquiryOverlay = document.getElementById('inquiry-form-overlay');

    function openInquiryForm() {
      inquiryOverlay.style.display = 'flex';
      inquiryOverlay.setAttribute('aria-hidden', 'false');
    }
    function closeInquiryForm() {
      inquiryOverlay.style.display = 'none';
      inquiryOverlay.setAttribute('aria-hidden', 'true');
    }

    // Email form handler (same idea as before)
    document.getElementById('inquiryForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const form = e.currentTarget;
      const name = form.name.value.trim();
      const phone = form.phone.value.trim();
      const email = form.email.value.trim();
      const message = form.message.value.trim();

      const subject = encodeURIComponent(`Quote Request - ${name}`);
      const body = encodeURIComponent(
        `Name: ${name}\nPhone: ${phone}\nEmail: ${email}\n\nRequest:\n${message}\n\nSent from sqframes.com`
      );

      window.location.href = `mailto:admin@sqframes.com?subject=${subject}&body=${body}`;
      showToast("Opening email…");
      closeInquiryForm();
      form.reset();
    });

    function showToast(msg) {
      const el = document.getElementById('toast');
      el.textContent = msg;
      el.classList.add('show');
      clearTimeout(window.__toastTimer);
      window.__toastTimer = setTimeout(() => el.classList.remove('show'), 2200);
    }

    function escapeHtml(s) {
      return String(s || "")
        .replaceAll("&", "&amp;")
        .replaceAll("<", "&lt;")
        .replaceAll(">", "&gt;")
        .replaceAll('"', "&quot;")
        .replaceAll("'", "&#039;");
    }

    // =========================
    // Load products (homepage grid can still be driven by your Sheet)
    // Products DETAILS are now static pages; this only powers tiles/search/filter.
    // =========================
    const sheetID = '1g5GT6RsbSW4qpfzcUbd1_mrdcakjRiylB5fzsmTMaD0';
    const sheetName = 'Sheet1';
    const grid = document.getElementById('grid');
    const searchInput = document.getElementById('searchInput');
    const categorySelect = document.getElementById('categorySelect');

    let products = [];
    let activeCategory = "all";
    let activeQuery = "";

    fetch(`https://opensheet.elk.sh/${sheetID}/${sheetName}`)
      .then(res => res.json())
      .then(data => {
        products = data.map(item => {
          const slug = (item.slug || "").trim();
          const title = (item.title || item.name || "").trim();
          const category = (item.category || item.Category || "").trim();
          const description = (item.description || item.Description || "").trim();
          const rawImages = item.images || item.Images || item.image || item.Image || "";
          const images = String(rawImages)
            .split(/[\n,]+/g)
            .map(u => u.trim())
            .filter(Boolean);

          return {
            slug,
            title,
            category,
            description,
            images
          };
        }).filter(p => p.slug && p.title);

        initCategories();
        render();
      })
      .catch(err => {
        console.error(err);
        grid.innerHTML = `<div style="grid-column: 1/-1; text-align:center; padding:60px 20px; color:#999; font-weight:700;">
          Unable to load products right now.
        </div>`;
      });

    function initCategories() {
      const cats = [...new Set(products.map(p => p.category).filter(Boolean))].sort();
      // Reset select
      categorySelect.innerHTML = `<option value="all">All Categories</option>`;
      for (const c of cats) {
        const opt = document.createElement('option');
        opt.value = c;
        opt.textContent = c;
        categorySelect.appendChild(opt);
      }
    }

    searchInput.addEventListener('input', () => {
      activeQuery = searchInput.value.trim().toLowerCase();
      render();
    });

    categorySelect.addEventListener('change', () => {
      activeCategory = categorySelect.value;
      render();
    });

    function filteredProducts() {
      return products.filter(p => {
        const catOk = (activeCategory === "all") || (p.category === activeCategory);
        const qOk = !activeQuery ||
          p.title.toLowerCase().includes(activeQuery) ||
          (p.description || "").toLowerCase().includes(activeQuery) ||
          (p.slug || "").toLowerCase().includes(activeQuery);
        return catOk && qOk;
      });
    }

    function render() {
      const list = filteredProducts();

      if (!list.length) {
        grid.innerHTML = `<div style="grid-column: 1/-1; text-align:center; padding:60px 20px; color:#999; font-weight:700;">
          No products found. Try a different search.
        </div>`;
        return;
      }

      grid.innerHTML = "";
      list.forEach((p, idx) => {
        // Mosaic sizing (same style: occasional wide/tall)
        const cls = ["card"];
        if (idx % 11 === 0) cls.push("wide");
        if (idx % 17 === 0) cls.push("tall");
        if (idx % 29 === 0) cls.push("big");

        const img = (p.images && p.images.length) ? p.images[0] : "images/tab_icon.png";

        // Make a short bullet list from description (split by newline or semicolon)
        const bullets = (p.description || "")
          .split(/\n|;|•/g)
          .map(s => s.trim())
          .filter(Boolean)
          .slice(0, 2);

        const bulletHtml = bullets.length
          ? `<ul class="card-points">${bullets.map(b => `<li>${escapeHtml(b)}</li>`).join("")}</ul>`
          : `<ul class="card-points"><li>Request quote for pricing & availability</li></ul>`;

        const el = document.createElement("div");
        el.className = cls.join(" ");
        el.setAttribute("data-cat", p.category || "");

        // IMPORTANT: now opens STATIC product page
        el.onclick = () => {
          window.location.href = `/products/${encodeURIComponent(p.slug)}.html`;
        };

        el.innerHTML = `
          <img class="card-img" src="${escapeHtml(img)}" alt="${escapeHtml(p.title)}" loading="lazy" />
          <div class="card-overlay">
            <div class="card-title">${escapeHtml(p.title)}</div>
            ${bulletHtml}
          </div>
        `;

        grid.appendChild(el);
      });
    }
  </script>

</body>
</html>
